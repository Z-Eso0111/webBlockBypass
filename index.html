<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Browser</title>
</head>
<body>
    <h1>Virtual Browser</h1>
    <form id="searchForm">
        <input type="text" id="urlInput" placeholder="Enter URL...">
        <button type="submit">Go</button>
    </form>

    <div id="resultContainer"></div>

    <script>
        document.getElementById('searchForm').addEventListener('submit', function(event) {
            event.preventDefault();
            var url = document.getElementById('urlInput').value.trim();
            if (!url.startsWith('http://') && !url.startsWith('https://')) {
                url = 'http://' + url; // Assuming http if not provided
            }
            fetch('Free_Proxy_List.txt')
                .then(response => response.text())
                .then(proxyList => {
                    var proxies = proxyList.split('\n');
                    var randomProxy = proxies[Math.floor(Math.random() * proxies.length)];
                    var proxyParts = randomProxy.replace(/"/g, '').split(',');
                    var proxyAddress = proxyParts[0];
                    var proxyPort = proxyParts[7];
                    var proxyType = proxyParts[8];

                    var proxyURL = 'http://' + proxyAddress + ':' + proxyPort;
                    if (proxyType.toLowerCase() === 'socks5') {
                        proxyURL = 'socks5://' + proxyAddress + ':' + proxyPort;
                    }

                    // Simulating VPN connection
                    console.log('Connecting to VPN with proxy: ' + proxyAddress + ':' + proxyPort);
                    console.log('Visiting URL: ' + url + ' via proxy: ' + proxyURL);

                    // Here, you would ideally make a request using the proxyURL variable
                    // For simplicity, let's just display the URL
                    document.getElementById('resultContainer').innerHTML = 'Connected to VPN with proxy: ' + proxyAddress + ':' + proxyPort + '<br>' +
                        'Visiting URL: <a href="' + url + '" target="_blank">' + url + '</a>' + ' via proxy: ' + proxyURL;
                })
                .catch(error => {
                    console.error('Error fetching proxy list:', error);
                });
        });
    </script>
</body>
</html>
